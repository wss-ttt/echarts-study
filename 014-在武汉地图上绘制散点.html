<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			html,
			body {
				height: 100%;
			}
			
			#main {
				height: 100%;
				background-color: #ccc;
			}
		</style>
	</head>

	<body>
		<div id="main"></div>
	</body>
	<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		// 散点在地图上的坐标
		var geoCoordMap = {
			'test':[116.25,30.551],
			"市级基地1": [116.31,30.521],
			"市级基地2": [113.31,31.52],
			"市级基地3": [116.31,30.421]
		};
		// 将坐标与值对应并反映在地图上
		var convertData = function(data) {
			var res = [];
			for(var i = 0; i < data.length; i++) {
				var geoCoord = geoCoordMap[data[i].name];
				if(geoCoord) {
					res.push({
						name: data[i].name,
						value: geoCoord.concat(data[i].value)
					});
				}
			}
			return res;
		};
		$.get('mapdata/wuhan.json', function(data) { //这里是json转js，如果是js文件就不需要这一步
			console.log('data',data);
			echarts.registerMap('wuhan', data); //设置地图
			var myChart = echarts.init(document.getElementById('main')); //初始化
			myChart.setOption({
				title: {
					text: '武汉市'
				},
				tooltip: {
					formatter: function(params) {
						console.log(params);
						var info =
							'<p style="font-size:18px">' + params.name +
							'</p><p style="font-size:14px">{c}这里可以写一些，想展示在页面上的别的信息</p>'
						return info;
					},
					//					formatter: '{b}<br/>{c}',
					backgroundColor: "rgba(0,0,0,.5)", //提示标签背景颜色
					textStyle: {
						//提示标签字体颜色
						color: "#fff"
					}
				},
				geo: {
					map: 'wuhan',
					label: {
						emphasis: {
							show: true,
							textStyle:{
								color:'#fff'
							}
						}
					},
					itemStyle: {
						normal: {
							areaColor: '#666',
							borderColor: '#111'
						},
						emphasis: {
							areaColor: '#2a333d'
						}
					}
				},
				series: [{
					type: 'effectScatter',
					coordinateSystem: 'geo',
					data: convertData([
						{
							name:'test',
							value:400
						},
						{
							name: "市级基地1",
							value: 310
						},
						{
							name: "市级基地2",
							value: 310
						},
						{
							name: "市级基地3",
							value: 310
						}
					]),
					symbolSize: 5,
					label: {
						normal: {
							show: false
						},
						emphasis: {
							show: false
						}
					},
					itemStyle: {
						emphasis: {
							borderColor: '#fff',
							borderWidth: 1
						}
					}
				}]
			});

			myChart.on('click', function(params) {
				alert(1);
				console.log(params); //此处写点击事件内容
			}); //点击事件，此事件还可以用到柱状图等其他地图
		});
	</script>

</html>